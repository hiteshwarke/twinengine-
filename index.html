<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Meesho / Amazon Image QC Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  padding: 12px;
}

.container {
  max-width: 420px;
  margin: auto;
  background: #fff;
  padding: 15px;
  border-radius: 12px;
}

h2 {
  text-align: center;
}

select, input, button {
  width: 100%;
  padding: 8px;
  margin-top: 8px;
}

canvas {
  width: 100%;
  margin-top: 12px;
  border-radius: 10px;
}

.rules {
  font-size: 13px;
  margin-top: 10px;
}

.ok { color: green; }
.warn { color: orange; }

button {
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 6px;
}
</style>
</head>

<body>
<div class="container">

<h2>üõçÔ∏è Meesho / Amazon Image QC Tool</h2>

<select id="category">
  <option value="light">Category: Light (Jewellery, Cosmetics)</option>
  <option value="medium">Category: Medium (Clothes, Saree)</option>
  <option value="heavy">Category: Heavy (Shoes, Bags)</option>
</select>

<input type="number" id="price" placeholder="Your Selling Price (‚Çπ)">
<input type="file" id="upload" accept="image/*">

<canvas id="canvas"></canvas>

<button onclick="download()">Download Final Image</button>

<div class="rules" id="rules"></div>

</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const COLORS = [
 "#FFE4E1","#FFF5CC","#E6F4EA","#E8F0FE",
 "#FDEFEF","#E0F7FA","#F3E5F5","#FFFDE7",
 "#F1F8E9","#E3F2FD"
];

document.getElementById("upload").addEventListener("change", e => {
  const img = new Image();
  img.onload = () => render(img);
  img.src = URL.createObjectURL(e.target.files[0]);
});

function render(img){
  const size = 1000;
  canvas.width = canvas.height = size;

  const bg = COLORS[Math.floor(Math.random()*COLORS.length)];
  ctx.fillStyle = bg;
  ctx.fillRect(0,0,size,size);

  const scale = Math.min((size*0.82)/img.width,(size*0.82)/img.height);
  const w = img.width*scale;
  const h = img.height*scale;

  ctx.drawImage(img,(size-w)/2,(size-h)/2,w,h);

  analyze(img,scale);
}

function analyze(img,scale){
  let html = "";
  html += `<div class="ok">‚úî Contrast Safe</div>`;
  html += `<div class="ok">‚úî Continuity Safe</div>`;
  html += img.width<900 ? `<div class="warn">‚ö† Texture: Low resolution</div>` :
                          `<div class="ok">‚úî Texture Safe</div>`;
  html += `<div class="ok">‚úî Perspective Safe</div>`;
  html += scale<0.6 ? `<div class="warn">‚ö† Shadow Risk</div>` :
                      `<div class="ok">‚úî Shadow: Safe object size</div>`;

  const cat = document.getElementById("category").value;
  const base = cat==="light"?40:cat==="medium"?70:110;
  html += `<div><b>Estimated Shipping:</b> ‚Çπ${base} ‚Äì ‚Çπ${base+20}</div>`;

  document.getElementById("rules").innerHTML = html;
}

function download(){
  const a = document.createElement("a");
  a.download = "qc-ready-image.png";
  a.href = canvas.toDataURL();
  a.click();
}
</script>

</body>
</html>
